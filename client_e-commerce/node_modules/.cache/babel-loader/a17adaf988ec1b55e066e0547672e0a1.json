{"ast":null,"code":"import _regeneratorRuntime from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/src/Product.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nvar Product =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Product, _React$Component);\n\n  function Product() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Product);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Product)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      sale: '',\n      _id: \"\",\n      shoppingCart: [],\n      stock: '',\n      newstock: ''\n    };\n    _this.findProduct =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var url, product;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = \"http://localhost:3001/products/product/\".concat(_this.props.match.params.id);\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get(url);\n\n            case 4:\n              product = _context.sent;\n\n              _this.setState({\n                stock: product.data.myProduct.stock,\n                sale: product.data.myProduct.sale,\n                _id: product.data.myProduct._id,\n                title: product.data.myProduct.title,\n                designer: product.data.myProduct.designer,\n                price: product.data.myProduct.price,\n                color: product.data.myProduct.color,\n                img: product.data.myProduct.img,\n                description: product.data.myProduct.description\n              });\n\n              console.log({\n                product: product\n              });\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              console.log({\n                error: _context.t0\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[1, 9]]);\n    }));\n    _this.addToBag =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var shoppingCart, _id, products, index;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              shoppingCart = JSON.parse(localStorage.getItem('shoppingCart')) || [];\n              debugger;\n              _id = _this.props.match.params.id;\n              _context2.next = 5;\n              return axios.get(\"http://localhost:3001/products/product/\".concat(_this.props.match.params.id));\n\n            case 5:\n              products = _context2.sent;\n              debugger;\n              index = shoppingCart.findIndex(function (ele) {\n                return ele._id === _id;\n              });\n\n              if (products.data.myProduct.stock > 0) {\n                if (index === -1) {\n                  shoppingCart.push({\n                    _id: _id,\n                    quantity: 1\n                  });\n                } else {\n                  alert('already in your cart'); //shoppingCart[index].quantity += 1\n                }\n              } //=====================when do the order confirmation======================\n              // let url = `http://localhost:3001/products/remove_from_stock`\n              // await axios.post(url, {id:this.props.match.params.id})    \n              // console.log('===============>', this.state.newstock) \n\n\n              localStorage.setItem('shoppingCart', JSON.stringify(shoppingCart));\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    return _this;\n  }\n\n  _createClass(Product, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.findProduct();\n      var shoppingCart = this.state.shoppingCart;\n      var productStorage = JSON.parse(localStorage.getItem('shoppingCart')) || [];\n      this.setState({\n        shoppingCart: productStorage\n      });\n      console.log(\"this is the shopping car \", shoppingCart);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          title = _this$state.title,\n          designer = _this$state.designer,\n          price = _this$state.price,\n          img = _this$state.img,\n          description = _this$state.description;\n      return React.createElement(\"div\", {\n        style: decor.small,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"productGrid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: img,\n        style: decor.img,\n        alt: \"productPic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: decor.product,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: decor.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, title), React.createElement(\"div\", {\n        style: decor.designer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, designer), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, price), React.createElement(\"div\", {\n        style: decor.border,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, description), React.createElement(\"button\", {\n        onClick: this.addToBag,\n        style: decor.button,\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Add\"))));\n    }\n  }]);\n\n  return Product;\n}(React.Component);\n\nexport { Product as default };\nvar decor = {\n  grid: {\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr'\n  },\n  small: {\n    width: '70%',\n    marginLeft: '9em'\n  },\n  img: {\n    paddingTop: '2em',\n    Height: '400px',\n    width: '80%'\n  },\n  product: {\n    maxHeight: '400px',\n    width: '80%',\n    paddingTop: '6em',\n    fontFamily: \"'EB Garamond', serif\"\n  },\n  border: {\n    borderTop: '1px solid black',\n    borderBottom: '1px solid black',\n    padding: '10px auto',\n    textAlign: 'justify' // text-ustify: inter-word\n\n  },\n  title: {\n    fontSize: '20px'\n  },\n  designer: {\n    color: 'grey'\n  },\n  button: {\n    backgroundColor: 'rgb(26, 27, 28)',\n    color: 'white',\n    fontSize: '15px',\n    textTransform: 'uppercase',\n    border: '1px solid rgb(26, 27, 28)',\n    position: 'relative',\n    textAlign: 'center',\n    width: '260px',\n    height: '30px',\n    outline: 'none',\n    marginTop: '2em'\n  }\n};","map":{"version":3,"sources":["/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/src/Product.js"],"names":["React","axios","Product","state","sale","_id","shoppingCart","stock","newstock","findProduct","url","props","match","params","id","get","product","setState","data","myProduct","title","designer","price","color","img","description","console","log","error","addToBag","JSON","parse","localStorage","getItem","products","index","findIndex","ele","push","quantity","alert","setItem","stringify","productStorage","decor","small","border","button","Component","grid","display","gridTemplateColumns","width","marginLeft","paddingTop","Height","maxHeight","fontFamily","borderTop","borderBottom","padding","textAlign","fontSize","backgroundColor","textTransform","position","height","outline","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nexport default class Product extends React.Component{\n    state={\n        sale:'' , \n        _id: \"\",\n        shoppingCart:[],\n        stock:'',\n        newstock:''\n    }\n    componentDidMount(){\n        this.findProduct()\n        let { shoppingCart } = this.state\n        var productStorage = JSON.parse(localStorage.getItem('shoppingCart')) || [];\n        \n        this.setState({shoppingCart:productStorage})\n        console.log( \"this is the shopping car \", shoppingCart)\n    }\n    findProduct = async () => {\n        \n        let url = `http://localhost:3001/products/product/${this.props.match.params.id}`;\n        try{\n            const product = await axios.get(url)\n            \n            this.setState({stock: product.data.myProduct.stock, sale:product.data.myProduct.sale , _id:product.data.myProduct._id, title:product.data.myProduct.title, designer:product.data.myProduct.designer, price:product.data.myProduct.price, color:product.data.myProduct.color, img:product.data.myProduct.img, description:product.data.myProduct.description})\n            console.log({product})\n        }\n        catch(error){\n            \n            console.log({error})\n        }\n    }\n    addToBag = async () => {\n        let shoppingCart  = JSON.parse(localStorage.getItem('shoppingCart')) || [];\n        debugger\n        let _id = this.props.match.params.id\n            const products = await axios.get(`http://localhost:3001/products/product/${this.props.match.params.id}`);\n            \n            debugger\n            var index = shoppingCart.findIndex(ele => ele._id === _id);\n            if (products.data.myProduct.stock > 0){\n                if(index === -1){\n                    shoppingCart.push({_id:_id, quantity:1})\n                }else{\n                    alert('already in your cart')\n                    //shoppingCart[index].quantity += 1\n                }\n            }\n            //=====================when do the order confirmation======================\n            // let url = `http://localhost:3001/products/remove_from_stock`\n            // await axios.post(url, {id:this.props.match.params.id})    \n            // console.log('===============>', this.state.newstock) \n        localStorage.setItem('shoppingCart', JSON.stringify(shoppingCart))\n     }\n\n    render(){\n        let { title, designer, price, img, description} = this.state;\n        return(\n        <div style={decor.small}>\n            <div className='productGrid'>\n            <div>\n                <img src={img} style={decor.img} alt='productPic'/>\n            </div>\n            <div style={decor.product}>\n                <div style={decor.title}>{title}</div>\n                <div style={decor.designer}>{designer}</div>\n                <div>{price}</div>\n                <div style={decor.border}>{description}</div>\n                <button onClick={this.addToBag} style={decor.button} className=\"buttons\">Add</button>\n            </div>\n        </div>\n        </div>\n         )\n    }\n}\nconst decor = {\n    grid:{\n        display:'grid',\n        gridTemplateColumns: '1fr 1fr'\n    },\n    small:{\n        width: '70%',\n        marginLeft: '9em',\n    },\n    img:{\n        paddingTop: '2em',\n        Height: '400px',\n        width: '80%'\n    },\n    product:{\n        maxHeight: '400px',\n        width: '80%',\n        paddingTop: '6em',\n        fontFamily:\"'EB Garamond', serif\"\n    },\n    border:{\n        borderTop: '1px solid black',\n        borderBottom: '1px solid black',\n        padding: '10px auto',\n        textAlign: 'justify',\n       // text-ustify: inter-word\n    },\n    title:{\n        fontSize: '20px'\n    },\n    designer:{\n        color: 'grey'\n    },\n    button:{\n        backgroundColor: 'rgb(26, 27, 28)',\n        color: 'white',\n        fontSize: '15px',\n        textTransform: 'uppercase',\n        border: '1px solid rgb(26, 27, 28)',\n        position: 'relative',\n        textAlign: 'center',\n        width: '260px',\n        height: '30px',\n        outline: 'none',\n        marginTop: '2em'\n    }\n}"]},"metadata":{},"sourceType":"module"}