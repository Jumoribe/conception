{"ast":null,"code":"import _objectSpread from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/src/AdminCategory.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { NavLink } from 'react-router-dom';\nimport Done from './Done';\n\nvar AdminCategory =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AdminCategory, _React$Component);\n\n  function AdminCategory() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AdminCategory);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AdminCategory)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      category: '',\n      categoriesList: [],\n      display: 'none'\n    };\n    _this.findCategories =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var url, categories;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = 'http://localhost:3001/categories/admin';\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get(url);\n\n            case 4:\n              categories = _context.sent;\n\n              _this.setState({\n                categoriesList: categories.data.myCategories\n              });\n\n              console.log(_this.state.categoriesList, categories);\n              _context.next = 13;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n              debugger;\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[1, 9]]);\n    }));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.addCategory =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var url;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              url = 'http://localhost:3001/categories/admin/new';\n              _context2.prev = 1;\n              console.log(_this.state.category);\n              _context2.next = 5;\n              return axios.post(url, {\n                category: _this.state.category\n              });\n\n            case 5:\n              _this.setState({\n                display: 'block'\n              });\n\n              setTimeout(function () {\n                _this.setState({\n                  display: 'none'\n                });\n              }, 3000);\n              _context2.next = 13;\n              break;\n\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.log(_context2.t0);\n              debugger;\n\n            case 13:\n              _this.findCategories(); // this.props.history.push({pathname:'/admin/category/new'})\n\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[1, 9]]);\n    }));\n\n    _this.gotoForm =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(id, category) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this.props.history.push({\n                  pathname: \"/admin/category/new/\".concat(id, \"/\").concat(category)\n                });\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.handleDelete = function (id) {\n      var url = 'http://localhost:3001/categories/admin/delete';\n\n      try {\n        axios.post(url, {\n          _id: id\n        });\n\n        _this.findCategories();\n      } catch (error) {\n        console.log(error);\n        debugger;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(AdminCategory, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.findCategories();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          category = _this$state.category,\n          categoriesList = _this$state.categoriesList;\n      return React.createElement(\"div\", {\n        style: decor.big,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: _objectSpread({}, decor.border, decor.title),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: decor.add,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Add a new product\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"chose category or create a new one\")), React.createElement(\"div\", {\n        style: _objectSpread({}, decor.grid, decor.borderTwo),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: decor.select,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, categoriesList.map(function (ele) {\n        return React.createElement(\"div\", {\n          style: decor.alignItems,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          style: decor.button,\n          className: \"buttons\",\n          onClick: function onClick() {\n            return _this2.gotoForm(ele._id, ele.category);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, ele.category), React.createElement(\"i\", {\n          className: \"fas fa-trash\",\n          style: decor.icon,\n          onClick: function onClick() {\n            return _this2.handleDelete(ele._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }), React.createElement(NavLink, {\n          to: \"/admin/category/update/\".concat(ele._id, \"/\").concat(ele.category),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-edit\",\n          style: decor.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        })));\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        style: decor.input,\n        onChange: this.handleChange,\n        placeholder: \"enter new category\",\n        name: \"category\",\n        value: category,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.addCategory,\n        style: _objectSpread({}, decor.button, decor.addBtn),\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Add Category\", React.createElement(Done, {\n        display: this.state.display,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return AdminCategory;\n}(React.Component);\n\nexport { AdminCategory as default };\nvar decor = {\n  big: {\n    width: '70%',\n    margin: 'auto',\n    paddingTop: '1em',\n    paddingBottom: '2em'\n  },\n  border: {\n    borderBottom: '2px solid rgb(42, 43, 45)',\n    padding: '1em'\n  },\n  borderTwo: {\n    borderBottom: '2px solid rgb(42, 43, 45)',\n    padding: '1em',\n    paddingBottom: '2em',\n    marginTop: '1.5em',\n    marginBottom: '1.5em'\n  },\n  select: {\n    margin: '1.5em'\n  },\n  add: {\n    fontSize: '30px'\n  },\n  title: {\n    textTransform: 'uppercase',\n    textAlign: 'center',\n    fontSize: '20px'\n  },\n  grid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(2, 1fr)',\n    // margin: 'auto',\n    gridGap: '3em'\n  },\n  input: {\n    marginTop: '15px',\n    width: '300px',\n    outline: 'none',\n    borderTop: 'none',\n    borderRight: 'none',\n    borderLeft: 'none',\n    borderBottom: '1px solid #ddd',\n    fontFamily: \"'EB Garamond', serif\",\n    fontSize: '20px',\n    paddingBottom: '0.5em'\n  },\n  button: {\n    backgroundColor: 'rgb(26, 27, 28)',\n    color: 'white',\n    fontSize: '13px',\n    textTransform: 'uppercase',\n    border: '2px solid rgb(26, 27, 28)',\n    position: 'relative',\n    textAlign: 'center',\n    height: '40px',\n    width: '300px',\n    outline: 'none',\n    fontFamily: \"'EB Garamond', serif\"\n  },\n  addBtn: {\n    marginTop: '1em'\n  },\n  icon: {\n    border: '1px solid black',\n    height: '40px',\n    width: '40px',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: '1em'\n  },\n  alignItems: {\n    display: 'flex',\n    justifyContent: 'space-around',\n    margin: '1em'\n  }\n};","map":{"version":3,"sources":["/Users/cmoribe/Desktop/BCS/e-commerce/client_e-commerce/src/AdminCategory.js"],"names":["React","axios","NavLink","Done","AdminCategory","state","category","categoriesList","display","findCategories","url","get","categories","setState","data","myCategories","console","log","handleChange","e","target","name","value","addCategory","post","setTimeout","gotoForm","id","props","history","push","pathname","handleDelete","_id","error","decor","big","border","title","add","grid","borderTwo","select","map","ele","alignItems","button","icon","input","addBtn","Component","width","margin","paddingTop","paddingBottom","borderBottom","padding","marginTop","marginBottom","fontSize","textTransform","textAlign","gridTemplateColumns","gridGap","outline","borderTop","borderRight","borderLeft","fontFamily","backgroundColor","color","position","height","justifyContent","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {NavLink} from 'react-router-dom';\nimport Done from './Done';\nexport default class AdminCategory extends React.Component{\n    state= {\n        category:'', categoriesList:[], display:'none'\n    }\n    componentDidMount(){\n        this.findCategories();\n      }\n\n    findCategories = async()=>{\n        let url = 'http://localhost:3001/categories/admin';\n        try{\n            const categories = await axios.get(url);\n            this.setState({categoriesList: categories.data.myCategories})\n            console.log(this.state.categoriesList, categories)\n        }\n        catch(error){\n            console.log(error)\n            debugger\n        }\n    }\n    handleChange = e=>{\n        this.setState({[e.target.name]: e.target.value})\n    }\n\n    addCategory = async() => {\n        let url = 'http://localhost:3001/categories/admin/new';\n        try{\n            console.log(this.state.category)\n            await axios.post(url,{category:this.state.category});\n            this.setState({display:'block'});   \n            setTimeout(()=>{\n                this.setState({display:'none'})   \n            },3000)\n        }\n        catch(error){\n            console.log(error)\n            debugger\n        }\n        this.findCategories();\n       // this.props.history.push({pathname:'/admin/category/new'})\n    }\n    gotoForm = async(id, category) =>{\n        this.props.history.push({pathname:`/admin/category/new/${id}/${category}`})\n    }\n    handleDelete = (id) => {\n        let url = 'http://localhost:3001/categories/admin/delete';\n        try{\n            axios.post(url, {_id:id})\n            this.findCategories();\n        }\n        catch(error){\n            console.log(error)\n            debugger\n        }\n    }\n    render(){\n    let {category, categoriesList}=this.state\n\n        return(\n            <div style={decor.big}>\n            <div style={{...decor.border, ...decor.title}}>\n            <p style={decor.add}>Add a new product</p> \n            <p>chose category or create a new one</p>\n            </div>\n            <div style={{...decor.grid, ...decor.borderTwo}}>\n            <div>\n              <div style={decor.select}>\n                  {\n                  \n                  categoriesList.map(ele=>{\n                      return(\n                          <div style={decor.alignItems}>\n                          <button style={decor.button} className=\"buttons\" onClick={()=>this.gotoForm(ele._id, ele.category)}>{ele.category}</button>\n                          <i className=\"fas fa-trash\" style={decor.icon} onClick={()=>this.handleDelete(ele._id)}></i>\n                          <NavLink to={`/admin/category/update/${ele._id}/${ele.category}`}>\n                            <i className=\"fas fa-edit\" style={decor.icon}></i>\n                          </NavLink>\n                          </div>\n                      )\n                  })     \n                }\n              </div>  \n            </div>\n            <div>\n                <input style={decor.input}\n                onChange = {this.handleChange}\n                placeholder ='enter new category'\n                name= \"category\"\n                value={category}\n                />       \n                <button \n                onClick={this.addCategory}\n                style={{...decor.button, ...decor.addBtn}} className=\"buttons\" >\n                Add Category\n                <Done\n                display={this.state.display}\n                />\n                </button> \n            </div>   \n            </div>\n             \n        </div>\n        )\n    }\n}\nconst decor={\n    big:{\n        width: '70%',\n        margin: 'auto',\n        paddingTop: '1em',\n        paddingBottom: '2em'\n    },\n    border:{\n        borderBottom: '2px solid rgb(42, 43, 45)',\n        padding: '1em',\n    },\n    borderTwo: {\n        borderBottom: '2px solid rgb(42, 43, 45)',\n        padding: '1em',\n        paddingBottom: '2em',\n        marginTop: '1.5em',\n        marginBottom: '1.5em'\n    },\n    select: {\n        margin: '1.5em'\n    },\n    add: {\n        fontSize: '30px'\n    },\n    title: {\n        textTransform: 'uppercase',\n        textAlign: 'center',\n        fontSize: '20px'\n    },\n    grid:{\n        display: 'grid',\n        gridTemplateColumns: 'repeat(2, 1fr)',\n        // margin: 'auto',\n        gridGap: '3em'\n    },\n    input:{\n        marginTop: '15px',\n        width: '300px',\n        outline: 'none',\n        borderTop:'none',\n        borderRight:'none',\n        borderLeft: 'none',\n        borderBottom: '1px solid #ddd',\n        fontFamily:\"'EB Garamond', serif\",\n        fontSize: '20px',\n        paddingBottom: '0.5em'\n    },\n    button:{\n        backgroundColor: 'rgb(26, 27, 28)',\n        color: 'white',\n        fontSize: '13px',\n        textTransform: 'uppercase',\n        border: '2px solid rgb(26, 27, 28)',\n        position: 'relative',\n        textAlign: 'center',\n        height: '40px',\n        width: '300px',\n        outline: 'none',\n        fontFamily:\"'EB Garamond', serif\",\n    },\n    addBtn: {\n        marginTop: '1em'\n    },\n    icon: {\n        border: '1px solid black',\n        height: '40px',\n        width: '40px',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginLeft: '1em'\n    \n    },\n    alignItems: {\n      display: 'flex',\n      justifyContent: 'space-around',\n      margin: '1em'\n    },\n   \n}"]},"metadata":{},"sourceType":"module"}